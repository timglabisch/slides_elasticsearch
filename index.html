<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/serif.css" id="theme">
        <link rel="stylesheet" href="elasticsearch.css">
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
            <script src="lib/js/html5shiv.js"></script>
		<![endif]-->


        <!-- <script src="http://d1n0x3qji82z53.cloudfront.net/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script> -->
        <script src="js/ace/ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/jquery.js"></script>

        <script type="text/javascript">

            jQuery.fn.identify = function(prefix) {
                var i = 0;
                return this.each(function() {
                    if($(this).attr('id')) return;
                    do {
                        i++;
                        var id = prefix + '_' + i;
                    } while($('#' + id).length > 0);
                    $(this).attr('id', id);
                });
            };

            $(document).ready(function(){

                ace.config.set("workerPath", "js/ace");

                // result editor
                document.ajaxresult = ace.edit('ajaxresultLayer');
                document.ajaxresult.setTheme("ace/theme/xcode");
                document.ajaxresult.getSession().setMode("ace/mode/json")
                document.ajaxresult.getSession().setUseWorker(false);


                $('.reveal').on('click', function() {
                    document.ajaxresult.setValue('');
                    $('#ajaxresultLayer').hide();
                });

                $('.elasticsearch.demo').each(function(){
                    $(this).identify('eldemo');

                    var editor = ace.edit($(this).attr('id'));
                    ace.config.set("workerPath", "js/ace");
                    editor.setTheme("ace/theme/xcode");
                    editor.getSession().setMode("ace/mode/json")
                    editor.getSession().setUseWorker(false);
                    editor.setValue(editor.getValue().trim())

                    var btn = $('<button>!%$" it</button>');
                    btn.on('click', function() {

                        $.ajax({
                            url: 'http://127.0.0.1:9200/'+ $(this.pre).parent().find('.url').val() +'?pretty=true',
                            type: $(this.pre).parent().find('.method').val().toUpperCase(),
                            dataType: 'json',
                            success: function(data) {
                                $('#ajaxresultLayer').show();
                                $('#ajaxresultLayer').css('border', 'none');

                                document.ajaxresult.setValue(JSON.stringify(data, null, '    '));
                            },
                            error: function(data) {
                                $('#ajaxresultLayer').show();
                                $('#ajaxresultLayer').css('border', '5px solid red');

                                if(typeof(data.responseText) != "undefined") {
                                    try {
                                        data.responseText = JSON.parse(data.responseText)
                                    } catch(e) {

                                    }

                                }

                                document.ajaxresult.setValue(JSON.stringify(data, null, '    '));
                            },
                            data: this.editor.getValue()
                        })


                    }.bind({editor: editor, pre: this}))

                    $(this).parent().prepend('<p>CURL -X <input type="text" class="method" value="'+ $(this).attr('data-method').toUpperCase() +'"/> .../ <input type="text" class="url" value="'+$(this).attr('data-url') + '"/></p>');

                    $(this).parent().append(btn);

                });
            });
        </script>


    </head>

	<body>

        <div id="ajaxresultLayer" style="display:none; position:absolute; background-color:rgb(116, 183, 63); margin-left:10%; margin-top:10%; width:80%; height:80%; z-index:2">

        </div>

		<div class="reveal">



			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>

                    <img src="images/bonsai.png" class="left" style="width:11%;display:block"/>

                    <div class="right" style="width:79%">
                        <h1>elasticsearch.</h1>

                    </div>
                    <div class="clear"></div>

                    <p>
                        flexible and powerful open source, distributed real-time<br/>
                        search and analytics engine for the cloud
                    </p>
					<small>
						by <a href="mailto:phpug_elasticsearch@tim.ainfach.de">@timglabisch</a>
					</small>
				</section>

				<section>
                    <h3>A Whole New Code Search. <small>@GitHub</small></h3>
					<img src="images/github_team.gif" style="width:80%"/>
                    <small>
                            <a target="_blank" href="https://github.com/blog/1449-cheers-sl-inte-prost-kampai-yung-sing-salud">github.com/blog/1449-cheers-sl-inte-prost-kampai-yung-sing-salud</a><br/>
                            <a target="_blank" href="https://github.com/blog/1381-a-whole-new-code-search">github.com/blog/1381-a-whole-new-code-search</a><br/>
                            <a target="_blank" href="https://github.com/search">github.com/search</a>
                    </small>
				</section>

                <section>
                    <a target="_blank" href="https://github.com/search?q=42&type=Repositories&ref=searchresults">
                        <img src="images/github_search_42.jpeg" style="width:100%" />
                    </a>

                    <aside class="notes">
                        Suchwort 42 - nicht nach der Antwort suchen :)<br/>
                        <br/>

                        Facetten - Aggregatoren<br/>
                        Facetten - Relatione Datenbank!?<br/>
                        Facetten brauchen RAM!<br/>
                        <br/>

                        Highlighting von Textstücken
                        <br/>

                        Advanced Search

                    </aside>

                </section>

                <section>
                    <strong>Real time data</strong>, Real time analytics, Distributed, High availability, Multi-tenancy, Full text search
                    Document oriented, Conflict management, <strike>Schema free</strike>, <strong>RESTful API</strong>, Per-operation persistence,
                    Apache 2 Open Source License, Build on top of <strong>Apache Lucene ™</strong>
                </section>

                <section>
                    <h2>lots of api's...</h2>
                    <small>
                        <strong><a href="http://www.elasticsearch.org/guide/reference/api/search/">Search</a></strong> >
                        Query, Highlighting, Suggest, Facets, Min Score, Scroll, Explain, Version, ...
                        <br/>
                        <br/>

                        <strong><a href="http://www.elasticsearch.org/guide/reference/api/">Indices</a></strong> >
                        Aliases, Analyze, Create Index, Delete Index, Open/Close Index, Get Settings, Get Mapping, Put Mapping, Delete Mapping,
                        Refresh, Optimize, Flush, Snapshot, Update Settings, Templates, Warmers, Stats, Status, Segments, Clear Cache, Indices Exists, Types Exists, ...
                        <br/>
                        <br/>

                        <strong><a href="http://www.elasticsearch.org/guide/reference/api/">Cluser</a></strong> >
                        Health, State, Update Settings, Nodes Info, Nodes Stats, Nodes Shutdown, Nodes Hot Threads, Cluster reroute
                        <br/>
                        <br/>
                        <strong><a href="http://www.elasticsearch.org/guide/reference/query-dsl/">Complex Queries</a></strong> >
                        match, multi_match, bool, boosting, ids, custom_score, custom_boost_factor, constant_score, dis_max,
                        field, filtered, flt, flt_field, fuzzy, has_child, has_parent, match_all, mlt, mlt_field, prefix,
                        query_string, range, span_first, span_near, span_not, span_or, span_term, term, terms, top_children, wildcard,
                        nested, custom_filters_score, indices, text, geo_shape, and, bool, exists, ids, limit, type, geo_bbox, geo_distance, geo_distance_range,
                        geo_polygon, geo_shape, has_child, has_parent, match_all, missing, not, numeric_range, or, prefix, query, range, script, term
                        terms, nested
                        <br/>
                        <br/>
                        <strong><a href="http://www.elasticsearch.org/guide/reference/api/">Routings</a></strong> > ...
                        <br/>
                        <br/>
                        <strong><a href="http://www.elasticsearch.org/guide/reference/api/">Mappings</a></strong> > ...
                        <br/>
                        <br/>
                        <strong><a href="http://www.elasticsearch.org/guide/reference/api/">Modules</a></strong> > ...
                        <br/>
                        <br/>
                        <strong><a href="http://www.elasticsearch.org/guide/reference/api/">River</a></strong> > ...
                        <br/>
                        <br/>
                        ...
                    </small>
                </section>

                <section>
                    <h1>elasticsearch</h1>
                    <h2>in Action...</h2>
                </section>

                <section>
                    <h2>install</h2>
                    <p>
                        <strong>1.</strong> <a target="_blank" href="http://www.elasticsearch.org/download/">Download</a> and unzip the latest Elasticsearch distribution.<br/>
                        <br/>
                        <strong>2.</strong> Run bin/elasticsearch -f on Unix.
                    </p>
                </section>

                <section>
                    <h2>bin/elasticsearch -f</h2>
                    <a target="_blank" href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/bootstrap/ElasticSearchF.java">
                        <img src="images/source_bootstrapF.png" style="width:100%"/>
                    </a>

                </section>


                <section>

                    <a target="_blank" href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/node/internal/InternalNode.java#L136">
                        <img src="images/source_bootstrap_modules.png" style="width:100%"/>
                    </a>

                    <a target="_blank" href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/node/internal/InternalNode.java#L136">
                        org/elasticsearch/node/internal/InternalNode.java#L136
                    </a>

                </section>

                <section>

                    <pre class="elasticsearch demo" data-method="post" data-url="twitter/timglabisch">
{
    "user" : "timglabisch",
    "message" : "#elasticsearch is #awesome"
}
                    </pre>

                </section>

                <section>
                    <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java#L57">
                        <img src="images/source_registerHandler.png" style="width:100%;"/>
                    </a>

                    <small>
                        <a href="https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java#L57">
                            src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java#L57
                        </a>
                    </small>
                </section>

                <section>

                    <pre class="elasticsearch demo" data-method="get" data-url="twitter/timglabisch/_search">

                    </pre>

                </section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
